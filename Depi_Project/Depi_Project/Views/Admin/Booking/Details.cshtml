@model Depi_Project.Models.Booking
@{
    ViewData["Title"] = $"Booking {Model.BookingId}";
    var profile = ViewBag.Profile as Depi_Project.Models.UserProfile;
}

<div class="container py-4" style="max-width:900px;">
    <h2 class="mb-3">Booking Details — #@Model.BookingId</h2>

    <div class="card p-3 mb-3">
        <h5>Customer</h5>
        <p>
            <strong>Email:</strong> @Model.IdentityUser?.Email <br />
            <strong>Name:</strong> @(profile != null ? $"{profile.FirstName} {profile.LastName}" : "—") <br />
            <strong>Phone:</strong> @(profile?.Phone ?? "—")
        </p>
    </div>

    <div class="card p-3 mb-3">
        <h5>Room & Booking</h5>
        <p>
            <strong>Room:</strong> @(Model.Room?.RoomType?.RoomTypeName ?? "—") — #@(Model.Room?.RoomNum ?? 0) <br />
            <strong>Dates:</strong> @Model.CheckTime.ToString("yyyy-MM-dd") → @Model.CheckOutTime.ToString("yyyy-MM-dd") <br />
            <strong>Total:</strong> @Model.TotalPrice.ToString("F2") EGP <br />
            <strong>Payment:</strong> @Model.PaymentStatus
        </p>

        <div class="mt-3">
            <a class="btn btn-outline-secondary" href="/Admin/Booking">Back to Bookings</a>
            <a class="btn btn-warning" href="/Admin/Booking/EditPayment/@Model.BookingId">Edit Payment</a>
        </div>
    </div>
</div>
